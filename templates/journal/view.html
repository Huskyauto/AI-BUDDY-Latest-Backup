{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="mb-4">
        <a href="{{ url_for('journal.index') }}" class="btn btn-outline-secondary">
            <i class="bi bi-arrow-left"></i> Back to Journal
        </a>
        <a href="{{ url_for('journal.export_entry', entry_id=entry.id) }}" class="btn btn-outline-primary ms-2">
            <i class="bi bi-download"></i> Export Entry
        </a>
    </div>

    <article class="bg-white p-4 rounded shadow-sm">
        <h1 class="mb-3">{{ entry.title }}</h1>

        <div class="text-muted mb-4">
            <p>
                <span data-timestamp="{{ entry.timestamp_with_timezone.isoformat() if entry.timestamp_with_timezone else entry.timestamp.isoformat() }}">{{ entry.timestamp.strftime('%m/%d/%Y %I:%M %p') }}</span>
                {% if entry.mood %}
                    - Feeling: {{ entry.mood }}
                {% endif %}
            </p>
        </div>

        <div class="journal-content">
            {{ entry.content | safe | nl2br }}
        </div>
    </article>
</div>
{% endblock %}