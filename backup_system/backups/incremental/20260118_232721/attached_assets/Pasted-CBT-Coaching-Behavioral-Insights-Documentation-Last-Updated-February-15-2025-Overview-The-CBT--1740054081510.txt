CBT Coaching Behavioral Insights Documentation
Last Updated: February 15, 2025
Overview
The CBT (Cognitive Behavioral Therapy) coaching section provides interactive behavioral insights and exercises through an accordion-style interface. This document details the implementation of the behavioral insights feature and related sections.
Implementation Details
HTML Structure
The CBT coaching interface uses Bootstrap's accordion component with custom styling for insights. Each section (Behavioral Insights, CBT Exercises, Cognitive Reframing, Next Steps) follows this structure:
<div class="accordion-item">
    <h3 class="accordion-header">
        <button class="accordion-button" type="button" data-bs-toggle="collapse">
            [Section Title]
        </button>
    </h3>
    <div id="[sectionId]" class="accordion-collapse collapse">
        <div class="accordion-body">
            <!-- Dynamic content loaded via JavaScript -->
        </div>
    </div>
</div>
JavaScript Implementation
The behavioral insights and other sections are dynamically populated using the loadSectionContent function in static/js/cbt.js. Each insight item follows a consistent pattern:
loadSectionContent('sectionId', `
    <ul class="list-unstyled">
        <li class="mb-2">
            <span data-bs-toggle="popover" 
                  data-bs-trigger="hover focus"
                  data-bs-content="[Detailed explanation]"
                  class="insight-item">
                <i class="fas fa-[icon] text-[color] me-2"></i>
                [Insight text]
            </span>
        </li>
    </ul>
`);
Key Components
1.	Hover Effects
•	Implemented using Bootstrap's popover component
•	Triggered on hover and focus
•	Custom styling for smooth transitions
2.	Visual Elements
•	Font Awesome icons for visual cues
•	Color-coded icons for different types of insights
•	Consistent spacing with Bootstrap margin utilities
3.	CSS Styling
.insight-item {
    cursor: help;
    border-bottom: 1px dotted #666;
    transition: all 0.2s ease;
    padding: 4px 8px;
    border-radius: 4px;
    display: inline-flex;
    align-items: center;
}
 
.insight-item:hover {
    color: #0d6efd;
    background-color: rgba(13, 110, 253, 0.1);
    text-decoration: none;
}
Recent Updates and Fixes
Behavioral Insights Section
Fixed the implementation to include:
•	Proper bullet points with icons
•	Hover functionality with detailed explanations
•	Consistent styling across all items
Other Sections
Extended the same functionality to:
1.	CBT Exercises
•	Added hover descriptions for each exercise
•	Included appropriate icons
•	Implemented consistent styling
2.	Cognitive Reframing Examples
•	Added hover explanations for reframing concepts
•	Implemented visual indicators
•	Maintained consistent formatting
3.	Next Steps
•	Added hover guidance for each step
•	Included progress-oriented icons
•	Matched styling with other sections
Technical Implementation
JavaScript Structure
document.addEventListener('DOMContentLoaded', () => {
    // Initialize accordions
    const accordionItems = document.querySelectorAll('.accordion-item');
    
    // Add click handlers
    accordionItems.forEach(item => {
        const button = item.querySelector('.accordion-button');
        const content = item.querySelector('.accordion-collapse');
        
        if (button && content) {
            // Accordion toggle logic
        }
    });
 
    // Load section content
    loadSectionContent('behavioral', behavioralContent);
    loadSectionContent('exercises', exercisesContent);
    loadSectionContent('reframing', reframingContent);
    loadSectionContent('nextSteps', nextStepsContent);
});
Popover Initialization
var popoverTriggerList = [].slice.call(
    document.querySelectorAll('[data-bs-toggle="popover"]')
);
var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
    return new bootstrap.Popover(popoverTriggerEl, {
        html: true,
        placement: 'auto'
    });
});
Best Practices
1.	Content Structure
•	Use consistent HTML structure across all sections
•	Maintain semantic markup for accessibility
•	Follow Bootstrap's component guidelines
2.	Styling
•	Use Bootstrap utilities for spacing and alignment
•	Implement consistent hover effects
•	Maintain a cohesive color scheme
3.	Performance
•	Load content dynamically to improve initial page load
•	Clean up popovers when sections are collapsed
•	Use efficient event delegation
Maintenance and Updates
When updating the CBT coaching sections:
1.	Ensure new content follows the established structure
2.	Maintain consistent styling across all sections
3.	Test hover functionality and popover content
4.	Verify accordion behavior remains smooth
5.	Check that icons and visual elements align properly



