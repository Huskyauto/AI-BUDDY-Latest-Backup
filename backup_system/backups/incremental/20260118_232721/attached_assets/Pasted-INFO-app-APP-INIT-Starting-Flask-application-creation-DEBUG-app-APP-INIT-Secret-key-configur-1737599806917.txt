INFO:app:[APP_INIT] Starting Flask application creation...
DEBUG:app:[APP_INIT] Secret key configured
DEBUG:app:[APP_INIT] Database configuration completed
INFO:app:[APP_INIT] Initializing Flask extensions...
INFO:app:[APP_INIT] Testing database connection...
INFO:app:[APP_INIT] Database connection test successful
INFO:app:[APP_INIT] Database tables created/verified
INFO:app:[APP_INIT] Registering blueprints...
INFO:food_tracker:Edamam API configuration - App ID present: True
INFO:food_tracker:Edamam API configuration - API Key present: True
INFO:ring_routes:OpenAI client initialized successfully
INFO:app:[APP_INIT] Registered Authentication blueprint successfully
INFO:app:[APP_INIT] Registered Chat blueprint successfully
INFO:app:[APP_INIT] Registered Food Tracker blueprint successfully
INFO:app:[APP_INIT] Registered Dashboard blueprint successfully
INFO:app:[APP_INIT] Registered Ring Integration blueprint successfully
INFO:app:[APP_INIT] Registered CBT blueprint successfully
INFO:app:[APP_INIT] Registered Journal blueprint successfully
INFO:app:[APP_INIT] Registered Forum blueprint successfully
INFO:app:[APP_INIT] Registered Location Wellness blueprint successfully
INFO:app:[APP_INIT] Registered Health Prediction blueprint successfully
INFO:app:[APP_INIT] Registered Wellness Toolbox blueprint successfully
INFO:app:[APP_INIT] Registered Meditation Challenges blueprint successfully
INFO:app:[APP_INIT] Registered Stress Monitoring blueprint successfully
INFO:app:[APP_INIT] Flask application created and configured successfully
INFO:__main__:Creating Flask application...
INFO:app:[APP_INIT] Starting Flask application creation...
DEBUG:app:[APP_INIT] Secret key configured
DEBUG:app:[APP_INIT] Database configuration completed
INFO:app:[APP_INIT] Initializing Flask extensions...
INFO:app:[APP_INIT] Testing database connection...
INFO:app:[APP_INIT] Database connection test successful
INFO:app:[APP_INIT] Database tables created/verified
INFO:app:[APP_INIT] Registering blueprints...
INFO:app:[APP_INIT] Registered Authentication blueprint successfully
INFO:app:[APP_INIT] Registered Chat blueprint successfully
INFO:app:[APP_INIT] Registered Food Tracker blueprint successfully
INFO:app:[APP_INIT] Registered Dashboard blueprint successfully
INFO:app:[APP_INIT] Registered Ring Integration blueprint successfully
INFO:app:[APP_INIT] Registered CBT blueprint successfully
INFO:app:[APP_INIT] Registered Journal blueprint successfully
INFO:app:[APP_INIT] Registered Forum blueprint successfully
INFO:app:[APP_INIT] Registered Location Wellness blueprint successfully
INFO:app:[APP_INIT] Registered Health Prediction blueprint successfully
INFO:app:[APP_INIT] Registered Wellness Toolbox blueprint successfully
INFO:app:[APP_INIT] Registered Meditation Challenges blueprint successfully
INFO:app:[APP_INIT] Registered Stress Monitoring blueprint successfully
INFO:app:[APP_INIT] Flask application created and configured successfully
INFO:__main__:Starting Flask server on port 5000...
 * Serving Flask app 'app'
 * Debug mode: on
INFO:werkzeug:WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://172.31.196.35:5000
INFO:werkzeug:Press CTRL+C to quit
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:26] "GET / HTTP/1.1" 200 -
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:26] "GET /static/css/custom.css HTTP/1.1" 304 -
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:26] "GET /static/images/ai-buddy-logo.png HTTP/1.1" 304 -
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:26] "GET /static/js/chat.js HTTP/1.1" 304 -
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:26] "GET / HTTP/1.1" 200 -
DEBUG:chat:Fetching chat history for user: 1
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:26] "GET /static/css/custom.css HTTP/1.1" 200 -
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:26] "GET /static/images/ai-buddy-logo.png HTTP/1.1" 200 -
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:26] "GET /history HTTP/1.1" 200 -
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:27] "GET / HTTP/1.1" 200 -
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:27] "GET /static/images/ai-buddy-logo.png HTTP/1.1" 304 -
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:27] "GET /static/js/chat.js HTTP/1.1" 304 -
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:27] "GET /static/css/custom.css HTTP/1.1" 304 -
DEBUG:chat:Fetching chat history for user: 1
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:27] "GET /history HTTP/1.1" 200 -
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:47] "GET /wellness-toolbox HTTP/1.1" 200 -
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:47] "GET /static/css/custom.css HTTP/1.1" 304 -
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:47] "GET /static/images/ai-buddy-logo.png HTTP/1.1" 304 -
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:47] "GET /static/js/meditation.js HTTP/1.1" 304 -
INFO:wellness_toolbox:Retrieved 6 stress logs for user 1
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:47] "GET /api/stress/history HTTP/1.1" 200 -
INFO:ring_routes:[RING_DATA] Fetching ring data
INFO:ring_routes:[RING_DATA] Fetching Oura data at 2025-01-23T02:30:47.784430+00:00
WARNING:ring_routes:[RING_DATA] Oura API key not found, using simulated data
INFO:ring_routes:[RING_DATA] Fetching Ultrahuman data at 2025-01-23T02:30:47.784559+00:00
WARNING:ring_routes:[RING_DATA] Ultrahuman API key not found, using simulated data
DEBUG:ring_routes:Starting biomarker analysis
DEBUG:ring_routes:Analysis complete. Found 1 alerts
INFO:ring_routes:Starting AI insights generation
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an expert in biometric analysis and health optimization.\n                Given the current biomarker readings and context, provide specific insights and actionable recommendations.\n                Focus on the most significant health signals and their immediate implications.'}, {'role': 'user', 'content': 'Analyze these real-time biomarker readings and provide insights:\n{\n  "trigger_event": {\n    "type": "recovery",\n    "description": "Recovery capacity is limited: 66/100",\n    "severity": "moderate",\n    "value": 66\n  },\n  "temporal_context": {\n    "time_of_day": "morning",\n    "hour": 2\n  },\n  "current_state": {\n    "stress_level": 53.2,\n    "recovery_index": 66,\n    "hrv_average": 45.5\n  },\n  "alerts": [\n    {\n      "type": "recovery",\n      "severity": "moderate",\n      "value": 66,\n      "description": "Recovery capacity is limited: 66/100"\n    }\n  ]\n}'}], 'model': 'gpt-4o-mini', 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f356498ba10>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x7f35655ee8d0> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3564998550>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:ring_data:[RING_DATA] Sending response: {'status': 'success', 'show_ring_data': True, 'oura': {'heart_rate': '--', 'heart_rate_variability': '--', 'stress_level': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'ultrahuman': {'heart_rate': '--', 'heart_rate_variability': '--', 'recovery_index': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'alerts': [], 'last_updated': '2025-01-23T02:30:47.842494'}
ERROR:wellness_toolbox:Error fetching meditation stats: could not convert string to float: '--'
Traceback (most recent call last):
  File "/home/runner/workspace/wellness_toolbox.py", line 189, in get_meditation_stats
    current_stress = float(ring_data['oura'].get('stress_level', 0))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: '--'
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:47] "GET /api/meditation/stats HTTP/1.1" 500 -
DEBUG:ring_data:[RING_DATA] Sending response: {'status': 'success', 'show_ring_data': True, 'oura': {'heart_rate': '--', 'heart_rate_variability': '--', 'stress_level': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'ultrahuman': {'heart_rate': '--', 'heart_rate_variability': '--', 'recovery_index': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'alerts': [], 'last_updated': '2025-01-23T02:30:48.041150'}
ERROR:wellness_toolbox:Error fetching meditation stats: could not convert string to float: '--'
Traceback (most recent call last):
  File "/home/runner/workspace/wellness_toolbox.py", line 189, in get_meditation_stats
    current_stress = float(ring_data['oura'].get('stress_level', 0))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: '--'
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:48] "GET /api/meditation/stats HTTP/1.1" 500 -
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 23 Jan 2025 02:30:57 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-6xkw0c5w3z48amzsu6uvfqsx'), (b'openai-processing-ms', b'9942'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9999770'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_2b02e75c177d7765a6d5e13589c15b0d'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'Set-Cookie', b'__cf_bm=JF79tQG24n2q.2kbEHqOEjHmfPKN7S1xchn9fs1LTzA-1737599457-1.0.1.1-E4ByIHRqZBM0F4yKbMFOMKKzlYMNEbPxf6Frx2EPsS2tvylSuiMq2m.egsuPee4uisrOC_F3rxNWaFoYH3fkmA; path=/; expires=Thu, 23-Jan-25 03:00:57 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'X-Content-Type-Options', b'nosniff'), (b'Set-Cookie', b'_cfuvid=ru8v0_WcE8E2osegfSjXJ2gvYasN16Npuy_uwtnfF5M-1737599457841-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), (b'Server', b'cloudflare'), (b'CF-RAY', b'90645d24eed46081-ORD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers([('date', 'Thu, 23 Jan 2025 02:30:57 GMT'), ('content-type', 'application/json'), ('transfer-encoding', 'chunked'), ('connection', 'keep-alive'), ('access-control-expose-headers', 'X-Request-ID'), ('openai-organization', 'user-6xkw0c5w3z48amzsu6uvfqsx'), ('openai-processing-ms', '9942'), ('openai-version', '2020-10-01'), ('x-ratelimit-limit-requests', '10000'), ('x-ratelimit-limit-tokens', '10000000'), ('x-ratelimit-remaining-requests', '9999'), ('x-ratelimit-remaining-tokens', '9999770'), ('x-ratelimit-reset-requests', '6ms'), ('x-ratelimit-reset-tokens', '1ms'), ('x-request-id', 'req_2b02e75c177d7765a6d5e13589c15b0d'), ('strict-transport-security', 'max-age=31536000; includeSubDomains; preload'), ('cf-cache-status', 'DYNAMIC'), ('set-cookie', '__cf_bm=JF79tQG24n2q.2kbEHqOEjHmfPKN7S1xchn9fs1LTzA-1737599457-1.0.1.1-E4ByIHRqZBM0F4yKbMFOMKKzlYMNEbPxf6Frx2EPsS2tvylSuiMq2m.egsuPee4uisrOC_F3rxNWaFoYH3fkmA; path=/; expires=Thu, 23-Jan-25 03:00:57 GMT; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('x-content-type-options', 'nosniff'), ('set-cookie', '_cfuvid=ru8v0_WcE8E2osegfSjXJ2gvYasN16Npuy_uwtnfF5M-1737599457841-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None'), ('server', 'cloudflare'), ('cf-ray', '90645d24eed46081-ORD'), ('content-encoding', 'gzip'), ('alt-svc', 'h3=":443"; ma=86400')])
DEBUG:openai._base_client:request_id: req_2b02e75c177d7765a6d5e13589c15b0d
INFO:ring_routes:Stored new biomarker insight
DEBUG:ring_routes:[RING_DATA] Sending response: {"status": "success", "show_ring_data": true, "oura": {"stress_level": 53.2, "heart_rate": 68, "heart_rate_variability": 43, "skin_temperature": 36.5, "timestamp": "2025-01-23T02:30:47.784430+00:00"}, "ultrahuman": {"recovery_index": 66, "heart_rate": 72, "heart_rate_variability": 48, "skin_temperature": 36.5, "timestamp": "2025-01-23T02:30:47.784559+00:00"}, "alerts": [{"type": "recovery", "severity": "moderate", "value": 66, "description": "Recovery capacity is limited: 66/100"}], "insights": {"alert_summary": "No significant patterns detected", "current_state": "All metrics within normal ranges", "primary_recommendations": ["Continue normal activities", "Stay hydrated"], "secondary_recommendations": ["Monitor stress levels", "Maintain regular sleep schedule"], "monitoring_focus": "Regular health maintenance"}, "last_updated": "2025-01-23T02:30:57.919610"}
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:57] "GET /api/ring-data HTTP/1.1" 200 -
DEBUG:ring_data:[RING_DATA] Sending response: {'status': 'success', 'show_ring_data': True, 'oura': {'heart_rate': '--', 'heart_rate_variability': '--', 'stress_level': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'ultrahuman': {'heart_rate': '--', 'heart_rate_variability': '--', 'recovery_index': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'alerts': [], 'last_updated': '2025-01-23T02:30:58.106025'}
ERROR:wellness_toolbox:Error fetching meditation stats: could not convert string to float: '--'
Traceback (most recent call last):
  File "/home/runner/workspace/wellness_toolbox.py", line 189, in get_meditation_stats
    current_stress = float(ring_data['oura'].get('stress_level', 0))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: '--'
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:30:58] "GET /api/meditation/stats HTTP/1.1" 500 -
INFO:ring_routes:[RING_DATA] Fetching ring data
INFO:ring_routes:[RING_DATA] Fetching Oura data at 2025-01-23T02:31:17.652199+00:00
WARNING:ring_routes:[RING_DATA] Oura API key not found, using simulated data
INFO:ring_routes:[RING_DATA] Fetching Ultrahuman data at 2025-01-23T02:31:17.652289+00:00
WARNING:ring_routes:[RING_DATA] Ultrahuman API key not found, using simulated data
DEBUG:ring_routes:Starting biomarker analysis
DEBUG:ring_routes:Analysis complete. Found 1 alerts
INFO:ring_routes:Starting AI insights generation
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an expert in biometric analysis and health optimization.\n                Given the current biomarker readings and context, provide specific insights and actionable recommendations.\n                Focus on the most significant health signals and their immediate implications.'}, {'role': 'user', 'content': 'Analyze these real-time biomarker readings and provide insights:\n{\n  "trigger_event": {\n    "type": "recovery",\n    "description": "Recovery capacity is limited: 69/100",\n    "severity": "moderate",\n    "value": 69\n  },\n  "temporal_context": {\n    "time_of_day": "morning",\n    "hour": 2\n  },\n  "current_state": {\n    "stress_level": 46.7,\n    "recovery_index": 69,\n    "hrv_average": 45.5\n  },\n  "alerts": [\n    {\n      "type": "recovery",\n      "severity": "moderate",\n      "value": 69,\n      "description": "Recovery capacity is limited: 69/100"\n    }\n  ]\n}'}], 'model': 'gpt-4o-mini', 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:close.started
DEBUG:httpcore.connection:close.complete
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f355f700650>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x7f35655ee8d0> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f35649f7e50>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:ring_data:[RING_DATA] Sending response: {'status': 'success', 'show_ring_data': True, 'oura': {'heart_rate': '--', 'heart_rate_variability': '--', 'stress_level': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'ultrahuman': {'heart_rate': '--', 'heart_rate_variability': '--', 'recovery_index': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'alerts': [], 'last_updated': '2025-01-23T02:31:17.713707'}
ERROR:wellness_toolbox:Error fetching meditation stats: could not convert string to float: '--'
Traceback (most recent call last):
  File "/home/runner/workspace/wellness_toolbox.py", line 189, in get_meditation_stats
    current_stress = float(ring_data['oura'].get('stress_level', 0))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: '--'
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:31:17] "GET /api/meditation/stats HTTP/1.1" 500 -
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 23 Jan 2025 02:31:28 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-6xkw0c5w3z48amzsu6uvfqsx'), (b'openai-processing-ms', b'10518'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9999770'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_ea60dc2864e061ff8b9083000918684a'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'90645ddf98b3eabc-ORD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 23 Jan 2025 02:31:28 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-6xkw0c5w3z48amzsu6uvfqsx', 'openai-processing-ms': '10518', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9999770', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_ea60dc2864e061ff8b9083000918684a', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '90645ddf98b3eabc-ORD', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
DEBUG:openai._base_client:request_id: req_ea60dc2864e061ff8b9083000918684a
INFO:ring_routes:Stored new biomarker insight
DEBUG:ring_routes:[RING_DATA] Sending response: {"status": "success", "show_ring_data": true, "oura": {"stress_level": 46.7, "heart_rate": 68, "heart_rate_variability": 44, "skin_temperature": 36.7, "timestamp": "2025-01-23T02:31:17.652199+00:00"}, "ultrahuman": {"recovery_index": 69, "heart_rate": 66, "heart_rate_variability": 47, "skin_temperature": 36.5, "timestamp": "2025-01-23T02:31:17.652289+00:00"}, "alerts": [{"type": "recovery", "severity": "moderate", "value": 69, "description": "Recovery capacity is limited: 69/100"}], "insights": {"alert_summary": "No significant patterns detected", "current_state": "All metrics within normal ranges", "primary_recommendations": ["Continue normal activities", "Stay hydrated"], "secondary_recommendations": ["Monitor stress levels", "Maintain regular sleep schedule"], "monitoring_focus": "Regular health maintenance"}, "last_updated": "2025-01-23T02:31:28.416121"}
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:31:28] "GET /api/ring-data HTTP/1.1" 200 -
INFO:ring_routes:[RING_DATA] Fetching ring data
INFO:ring_routes:[RING_DATA] Fetching Oura data at 2025-01-23T02:31:47.643275+00:00
WARNING:ring_routes:[RING_DATA] Oura API key not found, using simulated data
INFO:ring_routes:[RING_DATA] Fetching Ultrahuman data at 2025-01-23T02:31:47.643387+00:00
WARNING:ring_routes:[RING_DATA] Ultrahuman API key not found, using simulated data
DEBUG:ring_routes:Starting biomarker analysis
DEBUG:ring_routes:Analysis complete. Found 2 alerts
INFO:ring_routes:Starting AI insights generation
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an expert in biometric analysis and health optimization.\n                Given the current biomarker readings and context, provide specific insights and actionable recommendations.\n                Focus on the most significant health signals and their immediate implications.'}, {'role': 'user', 'content': 'Analyze these real-time biomarker readings and provide insights:\n{\n  "trigger_event": {\n    "type": "hrv",\n    "description": "Low heart rate variability detected: 43.5ms",\n    "severity": "warning",\n    "value": 43.5\n  },\n  "temporal_context": {\n    "time_of_day": "morning",\n    "hour": 2\n  },\n  "current_state": {\n    "stress_level": 47.8,\n    "recovery_index": 66,\n    "hrv_average": 43.5\n  },\n  "alerts": [\n    {\n      "type": "hrv",\n      "severity": "warning",\n      "value": 43.5,\n      "description": "Low heart rate variability detected: 43.5ms"\n    },\n    {\n      "type": "recovery",\n      "severity": "moderate",\n      "value": 66,\n      "description": "Recovery capacity is limited: 66/100"\n    }\n  ]\n}'}], 'model': 'gpt-4o-mini', 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:close.started
DEBUG:httpcore.connection:close.complete
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f35649f6f10>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x7f35655ee8d0> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f35649f6fd0>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:ring_data:[RING_DATA] Sending response: {'status': 'success', 'show_ring_data': True, 'oura': {'heart_rate': '--', 'heart_rate_variability': '--', 'stress_level': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'ultrahuman': {'heart_rate': '--', 'heart_rate_variability': '--', 'recovery_index': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'alerts': [], 'last_updated': '2025-01-23T02:31:47.700437'}
ERROR:wellness_toolbox:Error fetching meditation stats: could not convert string to float: '--'
Traceback (most recent call last):
  File "/home/runner/workspace/wellness_toolbox.py", line 189, in get_meditation_stats
    current_stress = float(ring_data['oura'].get('stress_level', 0))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: '--'
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:31:47] "GET /api/meditation/stats HTTP/1.1" 500 -
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 23 Jan 2025 02:31:57 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-6xkw0c5w3z48amzsu6uvfqsx'), (b'openai-processing-ms', b'9808'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9999732'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_cebb693cbab79104f45bf103b91e5e8e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'90645e9b08ffdade-ORD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 23 Jan 2025 02:31:57 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-6xkw0c5w3z48amzsu6uvfqsx', 'openai-processing-ms': '9808', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9999732', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_cebb693cbab79104f45bf103b91e5e8e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '90645e9b08ffdade-ORD', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
DEBUG:openai._base_client:request_id: req_cebb693cbab79104f45bf103b91e5e8e
INFO:ring_routes:Stored new biomarker insight
DEBUG:ring_routes:[RING_DATA] Sending response: {"status": "success", "show_ring_data": true, "oura": {"stress_level": 47.8, "heart_rate": 68, "heart_rate_variability": 42, "skin_temperature": 36.4, "timestamp": "2025-01-23T02:31:47.643275+00:00"}, "ultrahuman": {"recovery_index": 66, "heart_rate": 68, "heart_rate_variability": 45, "skin_temperature": 36.5, "timestamp": "2025-01-23T02:31:47.643387+00:00"}, "alerts": [{"type": "hrv", "severity": "warning", "value": 43.5, "description": "Low heart rate variability detected: 43.5ms"}, {"type": "recovery", "severity": "moderate", "value": 66, "description": "Recovery capacity is limited: 66/100"}], "insights": {"alert_summary": "No significant patterns detected", "current_state": "All metrics within normal ranges", "primary_recommendations": ["Continue normal activities", "Stay hydrated"], "secondary_recommendations": ["Monitor stress levels", "Maintain regular sleep schedule"], "monitoring_focus": "Regular health maintenance"}, "last_updated": "2025-01-23T02:31:57.646138"}
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:31:57] "GET /api/ring-data HTTP/1.1" 200 -
INFO:ring_routes:[RING_DATA] Fetching ring data
INFO:ring_routes:[RING_DATA] Fetching Oura data at 2025-01-23T02:32:17.641418+00:00
WARNING:ring_routes:[RING_DATA] Oura API key not found, using simulated data
INFO:ring_routes:[RING_DATA] Fetching Ultrahuman data at 2025-01-23T02:32:17.641533+00:00
WARNING:ring_routes:[RING_DATA] Ultrahuman API key not found, using simulated data
DEBUG:ring_routes:Starting biomarker analysis
DEBUG:ring_routes:Analysis complete. Found 2 alerts
INFO:ring_routes:Starting AI insights generation
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an expert in biometric analysis and health optimization.\n                Given the current biomarker readings and context, provide specific insights and actionable recommendations.\n                Focus on the most significant health signals and their immediate implications.'}, {'role': 'user', 'content': 'Analyze these real-time biomarker readings and provide insights:\n{\n  "trigger_event": {\n    "type": "hrv",\n    "description": "Low heart rate variability detected: 44.5ms",\n    "severity": "warning",\n    "value": 44.5\n  },\n  "temporal_context": {\n    "time_of_day": "morning",\n    "hour": 2\n  },\n  "current_state": {\n    "stress_level": 52.2,\n    "recovery_index": 67,\n    "hrv_average": 44.5\n  },\n  "alerts": [\n    {\n      "type": "hrv",\n      "severity": "warning",\n      "value": 44.5,\n      "description": "Low heart rate variability detected: 44.5ms"\n    },\n    {\n      "type": "recovery",\n      "severity": "moderate",\n      "value": 67,\n      "description": "Recovery capacity is limited: 67/100"\n    }\n  ]\n}'}], 'model': 'gpt-4o-mini', 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:close.started
DEBUG:httpcore.connection:close.complete
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f356530fb90>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x7f35655ee8d0> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3564914950>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:ring_data:[RING_DATA] Sending response: {'status': 'success', 'show_ring_data': True, 'oura': {'heart_rate': '--', 'heart_rate_variability': '--', 'stress_level': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'ultrahuman': {'heart_rate': '--', 'heart_rate_variability': '--', 'recovery_index': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'alerts': [], 'last_updated': '2025-01-23T02:32:17.696107'}
ERROR:wellness_toolbox:Error fetching meditation stats: could not convert string to float: '--'
Traceback (most recent call last):
  File "/home/runner/workspace/wellness_toolbox.py", line 189, in get_meditation_stats
    current_stress = float(ring_data['oura'].get('stress_level', 0))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: '--'
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:32:17] "GET /api/meditation/stats HTTP/1.1" 500 -
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 23 Jan 2025 02:32:26 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-6xkw0c5w3z48amzsu6uvfqsx'), (b'openai-processing-ms', b'9085'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9999732'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_585fb1fb237c5c0af063b0f60e777030'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'90645f568aadcfbb-ORD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 23 Jan 2025 02:32:26 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-6xkw0c5w3z48amzsu6uvfqsx', 'openai-processing-ms': '9085', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9999732', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_585fb1fb237c5c0af063b0f60e777030', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '90645f568aadcfbb-ORD', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
DEBUG:openai._base_client:request_id: req_585fb1fb237c5c0af063b0f60e777030
INFO:ring_routes:Stored new biomarker insight
DEBUG:ring_routes:[RING_DATA] Sending response: {"status": "success", "show_ring_data": true, "oura": {"stress_level": 52.2, "heart_rate": 73, "heart_rate_variability": 41, "skin_temperature": 36.6, "timestamp": "2025-01-23T02:32:17.641418+00:00"}, "ultrahuman": {"recovery_index": 67, "heart_rate": 66, "heart_rate_variability": 48, "skin_temperature": 36.6, "timestamp": "2025-01-23T02:32:17.641533+00:00"}, "alerts": [{"type": "hrv", "severity": "warning", "value": 44.5, "description": "Low heart rate variability detected: 44.5ms"}, {"type": "recovery", "severity": "moderate", "value": 67, "description": "Recovery capacity is limited: 67/100"}], "insights": {"alert_summary": "No significant patterns detected", "current_state": "All metrics within normal ranges", "primary_recommendations": ["Continue normal activities", "Stay hydrated"], "secondary_recommendations": ["Monitor stress levels", "Maintain regular sleep schedule"], "monitoring_focus": "Regular health maintenance"}, "last_updated": "2025-01-23T02:32:26.894606"}
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:32:26] "GET /api/ring-data HTTP/1.1" 200 -
INFO:ring_routes:[RING_DATA] Fetching ring data
INFO:ring_routes:[RING_DATA] Fetching Oura data at 2025-01-23T02:32:47.668305+00:00
WARNING:ring_routes:[RING_DATA] Oura API key not found, using simulated data
INFO:ring_routes:[RING_DATA] Fetching Ultrahuman data at 2025-01-23T02:32:47.668413+00:00
WARNING:ring_routes:[RING_DATA] Ultrahuman API key not found, using simulated data
DEBUG:ring_routes:Starting biomarker analysis
DEBUG:ring_routes:Analysis complete. Found 1 alerts
INFO:ring_routes:Starting AI insights generation
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an expert in biometric analysis and health optimization.\n                Given the current biomarker readings and context, provide specific insights and actionable recommendations.\n                Focus on the most significant health signals and their immediate implications.'}, {'role': 'user', 'content': 'Analyze these real-time biomarker readings and provide insights:\n{\n  "trigger_event": {\n    "type": "recovery",\n    "description": "Recovery capacity is limited: 66/100",\n    "severity": "moderate",\n    "value": 66\n  },\n  "temporal_context": {\n    "time_of_day": "morning",\n    "hour": 2\n  },\n  "current_state": {\n    "stress_level": 46.7,\n    "recovery_index": 66,\n    "hrv_average": 48.0\n  },\n  "alerts": [\n    {\n      "type": "recovery",\n      "severity": "moderate",\n      "value": 66,\n      "description": "Recovery capacity is limited: 66/100"\n    }\n  ]\n}'}], 'model': 'gpt-4o-mini', 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:close.started
DEBUG:httpcore.connection:close.complete
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f355f718250>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x7f35655ee8d0> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f355f7184d0>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:ring_data:[RING_DATA] Sending response: {'status': 'success', 'show_ring_data': True, 'oura': {'heart_rate': '--', 'heart_rate_variability': '--', 'stress_level': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'ultrahuman': {'heart_rate': '--', 'heart_rate_variability': '--', 'recovery_index': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'alerts': [], 'last_updated': '2025-01-23T02:32:47.798215'}
ERROR:wellness_toolbox:Error fetching meditation stats: could not convert string to float: '--'
Traceback (most recent call last):
  File "/home/runner/workspace/wellness_toolbox.py", line 189, in get_meditation_stats
    current_stress = float(ring_data['oura'].get('stress_level', 0))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: '--'
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:32:47] "GET /api/meditation/stats HTTP/1.1" 500 -
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 23 Jan 2025 02:33:00 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-6xkw0c5w3z48amzsu6uvfqsx'), (b'openai-processing-ms', b'12415'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9999770'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_a43669beb863c30248d0bfa6087198ef'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'90646012291aeb64-ORD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 23 Jan 2025 02:33:00 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-6xkw0c5w3z48amzsu6uvfqsx', 'openai-processing-ms': '12415', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9999770', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_a43669beb863c30248d0bfa6087198ef', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '90646012291aeb64-ORD', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
DEBUG:openai._base_client:request_id: req_a43669beb863c30248d0bfa6087198ef
INFO:ring_routes:Stored new biomarker insight
DEBUG:ring_routes:[RING_DATA] Sending response: {"status": "success", "show_ring_data": true, "oura": {"stress_level": 46.7, "heart_rate": 65, "heart_rate_variability": 45, "skin_temperature": 36.6, "timestamp": "2025-01-23T02:32:47.668305+00:00"}, "ultrahuman": {"recovery_index": 66, "heart_rate": 72, "heart_rate_variability": 51, "skin_temperature": 36.2, "timestamp": "2025-01-23T02:32:47.668413+00:00"}, "alerts": [{"type": "recovery", "severity": "moderate", "value": 66, "description": "Recovery capacity is limited: 66/100"}], "insights": {"alert_summary": "No significant patterns detected", "current_state": "All metrics within normal ranges", "primary_recommendations": ["Continue normal activities", "Stay hydrated"], "secondary_recommendations": ["Monitor stress levels", "Maintain regular sleep schedule"], "monitoring_focus": "Regular health maintenance"}, "last_updated": "2025-01-23T02:33:00.249845"}
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:33:00] "GET /api/ring-data HTTP/1.1" 200 -
INFO:ring_routes:[RING_DATA] Fetching ring data
INFO:ring_routes:[RING_DATA] Fetching Oura data at 2025-01-23T02:33:17.631582+00:00
WARNING:ring_routes:[RING_DATA] Oura API key not found, using simulated data
INFO:ring_routes:[RING_DATA] Fetching Ultrahuman data at 2025-01-23T02:33:17.631672+00:00
WARNING:ring_routes:[RING_DATA] Ultrahuman API key not found, using simulated data
DEBUG:ring_routes:Starting biomarker analysis
DEBUG:ring_routes:Analysis complete. Found 0 alerts
INFO:ring_routes:Starting AI insights generation
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an expert in biometric analysis and health optimization.\n                Given the current biomarker readings and context, provide specific insights and actionable recommendations.\n                Focus on the most significant health signals and their immediate implications.'}, {'role': 'user', 'content': 'Analyze these real-time biomarker readings and provide insights:\n{\n  "trigger_event": {\n    "type": "none",\n    "description": "No significant alerts",\n    "severity": "normal",\n    "value": null\n  },\n  "temporal_context": {\n    "time_of_day": "morning",\n    "hour": 2\n  },\n  "current_state": {\n    "stress_level": 51.9,\n    "recovery_index": 70,\n    "hrv_average": 48.5\n  },\n  "alerts": []\n}'}], 'model': 'gpt-4o-mini', 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:close.started
DEBUG:httpcore.connection:close.complete
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f355f7132d0>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x7f35655ee8d0> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f355f713450>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:ring_data:[RING_DATA] Sending response: {'status': 'success', 'show_ring_data': True, 'oura': {'heart_rate': '--', 'heart_rate_variability': '--', 'stress_level': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'ultrahuman': {'heart_rate': '--', 'heart_rate_variability': '--', 'recovery_index': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'alerts': [], 'last_updated': '2025-01-23T02:33:17.691354'}
ERROR:wellness_toolbox:Error fetching meditation stats: could not convert string to float: '--'
Traceback (most recent call last):
  File "/home/runner/workspace/wellness_toolbox.py", line 189, in get_meditation_stats
    current_stress = float(ring_data['oura'].get('stress_level', 0))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: '--'
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:33:17] "GET /api/meditation/stats HTTP/1.1" 500 -
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 23 Jan 2025 02:33:29 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-6xkw0c5w3z48amzsu6uvfqsx'), (b'openai-processing-ms', b'11385'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9999812'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_f87a88b9331ca77bba9e6babdf042e5e'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'cf-cache-status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'906460cd7dc8e808-ORD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 23 Jan 2025 02:33:29 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-6xkw0c5w3z48amzsu6uvfqsx', 'openai-processing-ms': '11385', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9999812', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_f87a88b9331ca77bba9e6babdf042e5e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '906460cd7dc8e808-ORD', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
DEBUG:openai._base_client:request_id: req_f87a88b9331ca77bba9e6babdf042e5e
INFO:ring_routes:Stored new biomarker insight
DEBUG:ring_routes:[RING_DATA] Sending response: {"status": "success", "show_ring_data": true, "oura": {"stress_level": 51.9, "heart_rate": 69, "heart_rate_variability": 46, "skin_temperature": 36.5, "timestamp": "2025-01-23T02:33:17.631582+00:00"}, "ultrahuman": {"recovery_index": 70, "heart_rate": 74, "heart_rate_variability": 51, "skin_temperature": 36.4, "timestamp": "2025-01-23T02:33:17.631672+00:00"}, "alerts": [], "insights": {"alert_summary": "No significant patterns detected", "current_state": "All metrics within normal ranges", "primary_recommendations": ["Continue normal activities", "Stay hydrated"], "secondary_recommendations": ["Monitor stress levels", "Maintain regular sleep schedule"], "monitoring_focus": "Regular health maintenance"}, "last_updated": "2025-01-23T02:33:29.207683"}
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:33:29] "GET /api/ring-data HTTP/1.1" 200 -
INFO:ring_routes:[RING_DATA] Fetching ring data
INFO:ring_routes:[RING_DATA] Fetching Oura data at 2025-01-23T02:33:47.636114+00:00
WARNING:ring_routes:[RING_DATA] Oura API key not found, using simulated data
INFO:ring_routes:[RING_DATA] Fetching Ultrahuman data at 2025-01-23T02:33:47.636198+00:00
WARNING:ring_routes:[RING_DATA] Ultrahuman API key not found, using simulated data
DEBUG:ring_routes:Starting biomarker analysis
DEBUG:ring_routes:Analysis complete. Found 0 alerts
INFO:ring_routes:Starting AI insights generation
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an expert in biometric analysis and health optimization.\n                Given the current biomarker readings and context, provide specific insights and actionable recommendations.\n                Focus on the most significant health signals and their immediate implications.'}, {'role': 'user', 'content': 'Analyze these real-time biomarker readings and provide insights:\n{\n  "trigger_event": {\n    "type": "none",\n    "description": "No significant alerts",\n    "severity": "normal",\n    "value": null\n  },\n  "temporal_context": {\n    "time_of_day": "morning",\n    "hour": 2\n  },\n  "current_state": {\n    "stress_level": 51.7,\n    "recovery_index": 71,\n    "hrv_average": 45.0\n  },\n  "alerts": []\n}'}], 'model': 'gpt-4o-mini', 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:close.started
DEBUG:httpcore.connection:close.complete
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f355f70d390>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x7f35655ee8d0> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f35649fb710>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:ring_data:[RING_DATA] Sending response: {'status': 'success', 'show_ring_data': True, 'oura': {'heart_rate': '--', 'heart_rate_variability': '--', 'stress_level': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'ultrahuman': {'heart_rate': '--', 'heart_rate_variability': '--', 'recovery_index': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'alerts': [], 'last_updated': '2025-01-23T02:33:47.690638'}
ERROR:wellness_toolbox:Error fetching meditation stats: could not convert string to float: '--'
Traceback (most recent call last):
  File "/home/runner/workspace/wellness_toolbox.py", line 189, in get_meditation_stats
    current_stress = float(ring_data['oura'].get('stress_level', 0))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: '--'
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:33:47] "GET /api/meditation/stats HTTP/1.1" 500 -
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 23 Jan 2025 02:33:56 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-6xkw0c5w3z48amzsu6uvfqsx'), (b'openai-processing-ms', b'8449'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9999812'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_2daff77d6e3d484dde1b452a9f86f636'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'90646188fe100280-ORD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 23 Jan 2025 02:33:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-6xkw0c5w3z48amzsu6uvfqsx', 'openai-processing-ms': '8449', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9999812', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_2daff77d6e3d484dde1b452a9f86f636', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '90646188fe100280-ORD', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
DEBUG:openai._base_client:request_id: req_2daff77d6e3d484dde1b452a9f86f636
INFO:ring_routes:Stored new biomarker insight
DEBUG:ring_routes:[RING_DATA] Sending response: {"status": "success", "show_ring_data": true, "oura": {"stress_level": 51.7, "heart_rate": 70, "heart_rate_variability": 42, "skin_temperature": 36.7, "timestamp": "2025-01-23T02:33:47.636114+00:00"}, "ultrahuman": {"recovery_index": 71, "heart_rate": 71, "heart_rate_variability": 48, "skin_temperature": 36.3, "timestamp": "2025-01-23T02:33:47.636198+00:00"}, "alerts": [], "insights": {"alert_summary": "No significant patterns detected", "current_state": "All metrics within normal ranges", "primary_recommendations": ["Continue normal activities", "Stay hydrated"], "secondary_recommendations": ["Monitor stress levels", "Maintain regular sleep schedule"], "monitoring_focus": "Regular health maintenance"}, "last_updated": "2025-01-23T02:33:56.267453"}
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:33:56] "GET /api/ring-data HTTP/1.1" 200 -
INFO:ring_routes:[RING_DATA] Fetching ring data
INFO:ring_routes:[RING_DATA] Fetching Oura data at 2025-01-23T02:34:17.645908+00:00
WARNING:ring_routes:[RING_DATA] Oura API key not found, using simulated data
INFO:ring_routes:[RING_DATA] Fetching Ultrahuman data at 2025-01-23T02:34:17.645993+00:00
WARNING:ring_routes:[RING_DATA] Ultrahuman API key not found, using simulated data
DEBUG:ring_routes:Starting biomarker analysis
DEBUG:ring_routes:Analysis complete. Found 1 alerts
INFO:ring_routes:Starting AI insights generation
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an expert in biometric analysis and health optimization.\n                Given the current biomarker readings and context, provide specific insights and actionable recommendations.\n                Focus on the most significant health signals and their immediate implications.'}, {'role': 'user', 'content': 'Analyze these real-time biomarker readings and provide insights:\n{\n  "trigger_event": {\n    "type": "recovery",\n    "description": "Recovery capacity is limited: 67/100",\n    "severity": "moderate",\n    "value": 67\n  },\n  "temporal_context": {\n    "time_of_day": "morning",\n    "hour": 2\n  },\n  "current_state": {\n    "stress_level": 53.7,\n    "recovery_index": 67,\n    "hrv_average": 47.5\n  },\n  "alerts": [\n    {\n      "type": "recovery",\n      "severity": "moderate",\n      "value": 67,\n      "description": "Recovery capacity is limited: 67/100"\n    }\n  ]\n}'}], 'model': 'gpt-4o-mini', 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:close.started
DEBUG:httpcore.connection:close.complete
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f355f7013d0>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x7f35655ee8d0> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f355f713910>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:ring_data:[RING_DATA] Sending response: {'status': 'success', 'show_ring_data': True, 'oura': {'heart_rate': '--', 'heart_rate_variability': '--', 'stress_level': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'ultrahuman': {'heart_rate': '--', 'heart_rate_variability': '--', 'recovery_index': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'alerts': [], 'last_updated': '2025-01-23T02:34:17.705035'}
ERROR:wellness_toolbox:Error fetching meditation stats: could not convert string to float: '--'
Traceback (most recent call last):
  File "/home/runner/workspace/wellness_toolbox.py", line 189, in get_meditation_stats
    current_stress = float(ring_data['oura'].get('stress_level', 0))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: '--'
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:34:17] "GET /api/meditation/stats HTTP/1.1" 500 -
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 23 Jan 2025 02:34:30 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-6xkw0c5w3z48amzsu6uvfqsx'), (b'openai-processing-ms', b'12810'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9999770'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_8250b3e1931029bee107660cd8827f79'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'906462448958eaf5-ORD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 23 Jan 2025 02:34:30 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-6xkw0c5w3z48amzsu6uvfqsx', 'openai-processing-ms': '12810', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9999770', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_8250b3e1931029bee107660cd8827f79', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '906462448958eaf5-ORD', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
DEBUG:openai._base_client:request_id: req_8250b3e1931029bee107660cd8827f79
INFO:ring_routes:Stored new biomarker insight
DEBUG:ring_routes:[RING_DATA] Sending response: {"status": "success", "show_ring_data": true, "oura": {"stress_level": 53.7, "heart_rate": 67, "heart_rate_variability": 44, "skin_temperature": 36.6, "timestamp": "2025-01-23T02:34:17.645908+00:00"}, "ultrahuman": {"recovery_index": 67, "heart_rate": 68, "heart_rate_variability": 51, "skin_temperature": 36.5, "timestamp": "2025-01-23T02:34:17.645993+00:00"}, "alerts": [{"type": "recovery", "severity": "moderate", "value": 67, "description": "Recovery capacity is limited: 67/100"}], "insights": {"alert_summary": "No significant patterns detected", "current_state": "All metrics within normal ranges", "primary_recommendations": ["Continue normal activities", "Stay hydrated"], "secondary_recommendations": ["Monitor stress levels", "Maintain regular sleep schedule"], "monitoring_focus": "Regular health maintenance"}, "last_updated": "2025-01-23T02:34:30.675518"}
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:34:30] "GET /api/ring-data HTTP/1.1" 200 -
INFO:ring_routes:[RING_DATA] Fetching ring data
INFO:ring_routes:[RING_DATA] Fetching Oura data at 2025-01-23T02:34:47.635738+00:00
WARNING:ring_routes:[RING_DATA] Oura API key not found, using simulated data
INFO:ring_routes:[RING_DATA] Fetching Ultrahuman data at 2025-01-23T02:34:47.635834+00:00
WARNING:ring_routes:[RING_DATA] Ultrahuman API key not found, using simulated data
DEBUG:ring_routes:Starting biomarker analysis
DEBUG:ring_routes:Analysis complete. Found 1 alerts
INFO:ring_routes:Starting AI insights generation
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an expert in biometric analysis and health optimization.\n                Given the current biomarker readings and context, provide specific insights and actionable recommendations.\n                Focus on the most significant health signals and their immediate implications.'}, {'role': 'user', 'content': 'Analyze these real-time biomarker readings and provide insights:\n{\n  "trigger_event": {\n    "type": "recovery",\n    "description": "Recovery capacity is limited: 68/100",\n    "severity": "moderate",\n    "value": 68\n  },\n  "temporal_context": {\n    "time_of_day": "morning",\n    "hour": 2\n  },\n  "current_state": {\n    "stress_level": 46.6,\n    "recovery_index": 68,\n    "hrv_average": 48.5\n  },\n  "alerts": [\n    {\n      "type": "recovery",\n      "severity": "moderate",\n      "value": 68,\n      "description": "Recovery capacity is limited: 68/100"\n    }\n  ]\n}'}], 'model': 'gpt-4o-mini', 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:close.started
DEBUG:httpcore.connection:close.complete
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f355f702150>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x7f35655ee8d0> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f355f710e90>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:ring_data:[RING_DATA] Sending response: {'status': 'success', 'show_ring_data': True, 'oura': {'heart_rate': '--', 'heart_rate_variability': '--', 'stress_level': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'ultrahuman': {'heart_rate': '--', 'heart_rate_variability': '--', 'recovery_index': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'alerts': [], 'last_updated': '2025-01-23T02:34:47.690244'}
ERROR:wellness_toolbox:Error fetching meditation stats: could not convert string to float: '--'
Traceback (most recent call last):
  File "/home/runner/workspace/wellness_toolbox.py", line 189, in get_meditation_stats
    current_stress = float(ring_data['oura'].get('stress_level', 0))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: '--'
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:34:47] "GET /api/meditation/stats HTTP/1.1" 500 -
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 23 Jan 2025 02:34:57 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-6xkw0c5w3z48amzsu6uvfqsx'), (b'openai-processing-ms', b'10210'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9999770'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_6b5f2b50e869b463bb938881941da8a0'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'906462fffab4617e-ORD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 23 Jan 2025 02:34:57 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-6xkw0c5w3z48amzsu6uvfqsx', 'openai-processing-ms': '10210', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9999770', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_6b5f2b50e869b463bb938881941da8a0', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '906462fffab4617e-ORD', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
DEBUG:openai._base_client:request_id: req_6b5f2b50e869b463bb938881941da8a0
INFO:ring_routes:Stored new biomarker insight
DEBUG:ring_routes:[RING_DATA] Sending response: {"status": "success", "show_ring_data": true, "oura": {"stress_level": 46.6, "heart_rate": 66, "heart_rate_variability": 48, "skin_temperature": 36.5, "timestamp": "2025-01-23T02:34:47.635738+00:00"}, "ultrahuman": {"recovery_index": 68, "heart_rate": 70, "heart_rate_variability": 49, "skin_temperature": 36.5, "timestamp": "2025-01-23T02:34:47.635834+00:00"}, "alerts": [{"type": "recovery", "severity": "moderate", "value": 68, "description": "Recovery capacity is limited: 68/100"}], "insights": {"alert_summary": "No significant patterns detected", "current_state": "All metrics within normal ranges", "primary_recommendations": ["Continue normal activities", "Stay hydrated"], "secondary_recommendations": ["Monitor stress levels", "Maintain regular sleep schedule"], "monitoring_focus": "Regular health maintenance"}, "last_updated": "2025-01-23T02:34:58.019706"}
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:34:58] "GET /api/ring-data HTTP/1.1" 200 -
INFO:ring_routes:[RING_DATA] Fetching ring data
INFO:ring_routes:[RING_DATA] Fetching Oura data at 2025-01-23T02:35:17.634425+00:00
WARNING:ring_routes:[RING_DATA] Oura API key not found, using simulated data
INFO:ring_routes:[RING_DATA] Fetching Ultrahuman data at 2025-01-23T02:35:17.634586+00:00
WARNING:ring_routes:[RING_DATA] Ultrahuman API key not found, using simulated data
DEBUG:ring_routes:Starting biomarker analysis
DEBUG:ring_routes:Analysis complete. Found 2 alerts
INFO:ring_routes:Starting AI insights generation
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an expert in biometric analysis and health optimization.\n                Given the current biomarker readings and context, provide specific insights and actionable recommendations.\n                Focus on the most significant health signals and their immediate implications.'}, {'role': 'user', 'content': 'Analyze these real-time biomarker readings and provide insights:\n{\n  "trigger_event": {\n    "type": "hrv",\n    "description": "Low heart rate variability detected: 43.5ms",\n    "severity": "warning",\n    "value": 43.5\n  },\n  "temporal_context": {\n    "time_of_day": "morning",\n    "hour": 2\n  },\n  "current_state": {\n    "stress_level": 52.5,\n    "recovery_index": 69,\n    "hrv_average": 43.5\n  },\n  "alerts": [\n    {\n      "type": "hrv",\n      "severity": "warning",\n      "value": 43.5,\n      "description": "Low heart rate variability detected: 43.5ms"\n    },\n    {\n      "type": "recovery",\n      "severity": "moderate",\n      "value": 69,\n      "description": "Recovery capacity is limited: 69/100"\n    }\n  ]\n}'}], 'model': 'gpt-4o-mini', 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:close.started
DEBUG:httpcore.connection:close.complete
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f35649bfa10>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x7f35655ee8d0> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f3564909150>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:ring_data:[RING_DATA] Sending response: {'status': 'success', 'show_ring_data': True, 'oura': {'heart_rate': '--', 'heart_rate_variability': '--', 'stress_level': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'ultrahuman': {'heart_rate': '--', 'heart_rate_variability': '--', 'recovery_index': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'alerts': [], 'last_updated': '2025-01-23T02:35:17.689295'}
ERROR:wellness_toolbox:Error fetching meditation stats: could not convert string to float: '--'
Traceback (most recent call last):
  File "/home/runner/workspace/wellness_toolbox.py", line 189, in get_meditation_stats
    current_stress = float(ring_data['oura'].get('stress_level', 0))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: '--'
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:35:17] "GET /api/meditation/stats HTTP/1.1" 500 -
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 23 Jan 2025 02:35:27 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-6xkw0c5w3z48amzsu6uvfqsx'), (b'openai-processing-ms', b'9603'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9999732'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_f96ab0ed930cbb869b7c81a68c2eebe4'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'906463bb7ed02237-ORD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 23 Jan 2025 02:35:27 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-6xkw0c5w3z48amzsu6uvfqsx', 'openai-processing-ms': '9603', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9999732', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_f96ab0ed930cbb869b7c81a68c2eebe4', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '906463bb7ed02237-ORD', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
DEBUG:openai._base_client:request_id: req_f96ab0ed930cbb869b7c81a68c2eebe4
INFO:ring_routes:Stored new biomarker insight
DEBUG:ring_routes:[RING_DATA] Sending response: {"status": "success", "show_ring_data": true, "oura": {"stress_level": 52.5, "heart_rate": 73, "heart_rate_variability": 43, "skin_temperature": 36.5, "timestamp": "2025-01-23T02:35:17.634425+00:00"}, "ultrahuman": {"recovery_index": 69, "heart_rate": 71, "heart_rate_variability": 44, "skin_temperature": 36.6, "timestamp": "2025-01-23T02:35:17.634586+00:00"}, "alerts": [{"type": "hrv", "severity": "warning", "value": 43.5, "description": "Low heart rate variability detected: 43.5ms"}, {"type": "recovery", "severity": "moderate", "value": 69, "description": "Recovery capacity is limited: 69/100"}], "insights": {"alert_summary": "No significant patterns detected", "current_state": "All metrics within normal ranges", "primary_recommendations": ["Continue normal activities", "Stay hydrated"], "secondary_recommendations": ["Monitor stress levels", "Maintain regular sleep schedule"], "monitoring_focus": "Regular health maintenance"}, "last_updated": "2025-01-23T02:35:27.415965"}
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:35:27] "GET /api/ring-data HTTP/1.1" 200 -
INFO:ring_routes:[RING_DATA] Fetching ring data
INFO:ring_routes:[RING_DATA] Fetching Oura data at 2025-01-23T02:35:47.848102+00:00
WARNING:ring_routes:[RING_DATA] Oura API key not found, using simulated data
INFO:ring_routes:[RING_DATA] Fetching Ultrahuman data at 2025-01-23T02:35:47.848200+00:00
WARNING:ring_routes:[RING_DATA] Ultrahuman API key not found, using simulated data
DEBUG:ring_routes:Starting biomarker analysis
DEBUG:ring_routes:Analysis complete. Found 2 alerts
INFO:ring_routes:Starting AI insights generation
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an expert in biometric analysis and health optimization.\n                Given the current biomarker readings and context, provide specific insights and actionable recommendations.\n                Focus on the most significant health signals and their immediate implications.'}, {'role': 'user', 'content': 'Analyze these real-time biomarker readings and provide insights:\n{\n  "trigger_event": {\n    "type": "hrv",\n    "description": "Low heart rate variability detected: 42.5ms",\n    "severity": "warning",\n    "value": 42.5\n  },\n  "temporal_context": {\n    "time_of_day": "morning",\n    "hour": 2\n  },\n  "current_state": {\n    "stress_level": 52.6,\n    "recovery_index": 68,\n    "hrv_average": 42.5\n  },\n  "alerts": [\n    {\n      "type": "hrv",\n      "severity": "warning",\n      "value": 42.5,\n      "description": "Low heart rate variability detected: 42.5ms"\n    },\n    {\n      "type": "recovery",\n      "severity": "moderate",\n      "value": 68,\n      "description": "Recovery capacity is limited: 68/100"\n    }\n  ]\n}'}], 'model': 'gpt-4o-mini', 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:close.started
DEBUG:httpcore.connection:close.complete
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f355f742690>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x7f35655ee8d0> server_hostname='api.openai.com' timeout=5.0
DEBUG:ring_data:[RING_DATA] Sending response: {'status': 'success', 'show_ring_data': True, 'oura': {'heart_rate': '--', 'heart_rate_variability': '--', 'stress_level': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'ultrahuman': {'heart_rate': '--', 'heart_rate_variability': '--', 'recovery_index': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'alerts': [], 'last_updated': '2025-01-23T02:35:47.865124'}
ERROR:wellness_toolbox:Error fetching meditation stats: could not convert string to float: '--'
Traceback (most recent call last):
  File "/home/runner/workspace/wellness_toolbox.py", line 189, in get_meditation_stats
    current_stress = float(ring_data['oura'].get('stress_level', 0))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: '--'
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f355f732f50>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:35:47] "GET /api/meditation/stats HTTP/1.1" 500 -
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 23 Jan 2025 02:35:56 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-6xkw0c5w3z48amzsu6uvfqsx'), (b'openai-processing-ms', b'8152'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9999732'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_9b830406e3be7f6b0b4a15f706a4d998'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'906464784899f851-ORD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 23 Jan 2025 02:35:56 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-6xkw0c5w3z48amzsu6uvfqsx', 'openai-processing-ms': '8152', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9999732', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_9b830406e3be7f6b0b4a15f706a4d998', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '906464784899f851-ORD', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
DEBUG:openai._base_client:request_id: req_9b830406e3be7f6b0b4a15f706a4d998
INFO:ring_routes:Stored new biomarker insight
DEBUG:ring_routes:[RING_DATA] Sending response: {"status": "success", "show_ring_data": true, "oura": {"stress_level": 52.6, "heart_rate": 72, "heart_rate_variability": 42, "skin_temperature": 36.6, "timestamp": "2025-01-23T02:35:47.848102+00:00"}, "ultrahuman": {"recovery_index": 68, "heart_rate": 66, "heart_rate_variability": 43, "skin_temperature": 36.2, "timestamp": "2025-01-23T02:35:47.848200+00:00"}, "alerts": [{"type": "hrv", "severity": "warning", "value": 42.5, "description": "Low heart rate variability detected: 42.5ms"}, {"type": "recovery", "severity": "moderate", "value": 68, "description": "Recovery capacity is limited: 68/100"}], "insights": {"alert_summary": "No significant patterns detected", "current_state": "All metrics within normal ranges", "primary_recommendations": ["Continue normal activities", "Stay hydrated"], "secondary_recommendations": ["Monitor stress levels", "Maintain regular sleep schedule"], "monitoring_focus": "Regular health maintenance"}, "last_updated": "2025-01-23T02:35:56.176124"}
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:35:56] "GET /api/ring-data HTTP/1.1" 200 -
DEBUG:ring_data:[RING_DATA] Sending response: {'status': 'success', 'show_ring_data': True, 'oura': {'heart_rate': '--', 'heart_rate_variability': '--', 'stress_level': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'ultrahuman': {'heart_rate': '--', 'heart_rate_variability': '--', 'recovery_index': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'alerts': [], 'last_updated': '2025-01-23T02:36:06.907882'}
ERROR:wellness_toolbox:Error completing meditation: could not convert string to float: '--'
Traceback (most recent call last):
  File "/home/runner/workspace/wellness_toolbox.py", line 106, in complete_meditation
    final_stress = float(ring_data['oura'].get('stress_level', 0))
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: '--'
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:36:06] "POST /api/meditation/complete HTTP/1.1" 500 -
INFO:ring_routes:[RING_DATA] Fetching ring data
INFO:ring_routes:[RING_DATA] Fetching Oura data at 2025-01-23T02:36:17.631804+00:00
WARNING:ring_routes:[RING_DATA] Oura API key not found, using simulated data
INFO:ring_routes:[RING_DATA] Fetching Ultrahuman data at 2025-01-23T02:36:17.631890+00:00
WARNING:ring_routes:[RING_DATA] Ultrahuman API key not found, using simulated data
DEBUG:ring_routes:Starting biomarker analysis
DEBUG:ring_routes:Analysis complete. Found 0 alerts
INFO:ring_routes:Starting AI insights generation
DEBUG:openai._base_client:Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'json_data': {'messages': [{'role': 'system', 'content': 'You are an expert in biometric analysis and health optimization.\n                Given the current biomarker readings and context, provide specific insights and actionable recommendations.\n                Focus on the most significant health signals and their immediate implications.'}, {'role': 'user', 'content': 'Analyze these real-time biomarker readings and provide insights:\n{\n  "trigger_event": {\n    "type": "none",\n    "description": "No significant alerts",\n    "severity": "normal",\n    "value": null\n  },\n  "temporal_context": {\n    "time_of_day": "morning",\n    "hour": 2\n  },\n  "current_state": {\n    "stress_level": 50.2,\n    "recovery_index": 70,\n    "hrv_average": 47.0\n  },\n  "alerts": []\n}'}], 'model': 'gpt-4o-mini', 'temperature': 0.7}}
DEBUG:openai._base_client:Sending HTTP Request: POST https://api.openai.com/v1/chat/completions
DEBUG:httpcore.connection:close.started
DEBUG:httpcore.connection:close.complete
DEBUG:httpcore.connection:connect_tcp.started host='api.openai.com' port=443 local_address=None timeout=5.0 socket_options=None
DEBUG:httpcore.connection:connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f355f730b10>
DEBUG:httpcore.connection:start_tls.started ssl_context=<ssl.SSLContext object at 0x7f35655ee8d0> server_hostname='api.openai.com' timeout=5.0
DEBUG:httpcore.connection:start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f355f719fd0>
DEBUG:httpcore.http11:send_request_headers.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_headers.complete
DEBUG:httpcore.http11:send_request_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:send_request_body.complete
DEBUG:httpcore.http11:receive_response_headers.started request=<Request [b'POST']>
DEBUG:ring_data:[RING_DATA] Sending response: {'status': 'success', 'show_ring_data': True, 'oura': {'heart_rate': '--', 'heart_rate_variability': '--', 'stress_level': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'ultrahuman': {'heart_rate': '--', 'heart_rate_variability': '--', 'recovery_index': '--', 'skin_temperature': '--', 'error': 'API key not configured'}, 'alerts': [], 'last_updated': '2025-01-23T02:36:17.684798'}
ERROR:wellness_toolbox:Error fetching meditation stats: could not convert string to float: '--'
Traceback (most recent call last):
  File "/home/runner/workspace/wellness_toolbox.py", line 189, in get_meditation_stats
    current_stress = float(ring_data['oura'].get('stress_level', 0))
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: '--'
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:36:17] "GET /api/meditation/stats HTTP/1.1" 500 -
DEBUG:httpcore.http11:receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Thu, 23 Jan 2025 02:36:29 GMT'), (b'Content-Type', b'application/json'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'access-control-expose-headers', b'X-Request-ID'), (b'openai-organization', b'user-6xkw0c5w3z48amzsu6uvfqsx'), (b'openai-processing-ms', b'12071'), (b'openai-version', b'2020-10-01'), (b'x-ratelimit-limit-requests', b'10000'), (b'x-ratelimit-limit-tokens', b'10000000'), (b'x-ratelimit-remaining-requests', b'9999'), (b'x-ratelimit-remaining-tokens', b'9999812'), (b'x-ratelimit-reset-requests', b'6ms'), (b'x-ratelimit-reset-tokens', b'1ms'), (b'x-request-id', b'req_cbc425544655780631b12663ffd4d0c9'), (b'strict-transport-security', b'max-age=31536000; includeSubDomains; preload'), (b'CF-Cache-Status', b'DYNAMIC'), (b'X-Content-Type-Options', b'nosniff'), (b'Server', b'cloudflare'), (b'CF-RAY', b'90646532692610a1-ORD'), (b'Content-Encoding', b'gzip'), (b'alt-svc', b'h3=":443"; ma=86400')])
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
DEBUG:httpcore.http11:receive_response_body.started request=<Request [b'POST']>
DEBUG:httpcore.http11:receive_response_body.complete
DEBUG:httpcore.http11:response_closed.started
DEBUG:httpcore.http11:response_closed.complete
DEBUG:openai._base_client:HTTP Response: POST https://api.openai.com/v1/chat/completions "200 OK" Headers({'date': 'Thu, 23 Jan 2025 02:36:29 GMT', 'content-type': 'application/json', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-expose-headers': 'X-Request-ID', 'openai-organization': 'user-6xkw0c5w3z48amzsu6uvfqsx', 'openai-processing-ms': '12071', 'openai-version': '2020-10-01', 'x-ratelimit-limit-requests': '10000', 'x-ratelimit-limit-tokens': '10000000', 'x-ratelimit-remaining-requests': '9999', 'x-ratelimit-remaining-tokens': '9999812', 'x-ratelimit-reset-requests': '6ms', 'x-ratelimit-reset-tokens': '1ms', 'x-request-id': 'req_cbc425544655780631b12663ffd4d0c9', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'cf-cache-status': 'DYNAMIC', 'x-content-type-options': 'nosniff', 'server': 'cloudflare', 'cf-ray': '90646532692610a1-ORD', 'content-encoding': 'gzip', 'alt-svc': 'h3=":443"; ma=86400'})
DEBUG:openai._base_client:request_id: req_cbc425544655780631b12663ffd4d0c9
INFO:ring_routes:Stored new biomarker insight
DEBUG:ring_routes:[RING_DATA] Sending response: {"status": "success", "show_ring_data": true, "oura": {"stress_level": 50.2, "heart_rate": 67, "heart_rate_variability": 47, "skin_temperature": 36.6, "timestamp": "2025-01-23T02:36:17.631804+00:00"}, "ultrahuman": {"recovery_index": 70, "heart_rate": 65, "heart_rate_variability": 47, "skin_temperature": 36.4, "timestamp": "2025-01-23T02:36:17.631890+00:00"}, "alerts": [], "insights": {"alert_summary": "No significant patterns detected", "current_state": "All metrics within normal ranges", "primary_recommendations": ["Continue normal activities", "Stay hydrated"], "secondary_recommendations": ["Monitor stress levels", "Maintain regular sleep schedule"], "monitoring_focus": "Regular health maintenance"}, "last_updated": "2025-01-23T02:36:29.910671"}
INFO:werkzeug:172.31.196.35 - - [23/Jan/2025 02:36:29] "GET /api/ring-data HTTP/1.1" 200 -
